#{extends 'results/Results/layout.html' /}

<div id="crudIndex">

    <h2>&{'Results'}: ${result.pollingStationBallot.pollingStation.code} / ${result.pollingStationBallot.pollingStation.name}</h2>
    <div class="container_12 clearfix">
        <div class="grid_7">
        <table>
            <thead>
                <tr>
                    <th>&{'Results'}</th>
                    <th width="20%">&{'votes'}</th>
                    <th width="20%">&{'percentage_over_votes'}</th>
                    <th width="20%">&{'percentage_over_census'}</th>
                </tr>
            </thead>
            <tbody>
                #{list items:result.parties, as:'party'}
                    <tr>
                        <td>
                            &{party.name}
                        </td>
                        <td class="crudNew" >
                            ${result.getResult(party)}
                        </td>
                        <td class="crudNew" >
                            ${result.getPercentageOverVotes(party)?.format('0.00')}
                        </td>
                        <td class="crudNew" >
                            ${result.getPercentageOverCensus(party)?.format('0.00')}
                        </td>
                    </tr>
                #{/list}
                <tr>
                    <td>
                        &{'Nulls'}
                    </td>
                    <td class="crudNew" >
                        ${result.nullVoteAmount}
                    </td>
                    <td class="crudNew">
                    </td>
                    <td class="crudNew">
                        ${result.getNullVotePercentageOverCensus()?.format('0.00')}
                    </td>
                </tr>
                <tr>
                    <td>
                        &{'Whites'}
                    </td>
                    <td class="crudNew" >
                        ${result.whiteVoteAmount}
                    </td>
                    <td class="crudNew">
                        ${result.getWhiteVotePercentageOverVotes()?.format('0.00')}
                    </td>
                    <td class="crudNew">
                        ${result.getWhiteVotePercentageOverCensus()?.format('0.00')}
                    </td>
                </tr>
                <tr>
                    <td>
                        &{'Abstentions'}
                    </td>
                    <td class="crudNew" >
                        ${result.abstentions}
                    </td>
                    <td></td>
                    <td class="crudNew">
                        ${result.getAbstentionsPercentage()?.format('0.00')}
                    </td>
                </tr>
                <tr>
                    <td>
                        &{'Census'}
                    </td>
                    <td class="crudNew" >
                        ${result.census}
                    </td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        </div>
        <div class="grid_5">

    #{pieChart result:result /}

        </div>

   

    </div>

</div>